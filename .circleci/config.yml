version: 2.1
jobs:
  norminette:
    docker: 
      - image: ubuntu:20.04
    steps:
      - checkout
      - steps:
      - run: apt update -y && apt upgrade -y
      - run: apt install make clang git ruby ruby-bundler ruby-dev build-essential
      - run: git clone https://github.com/42Paris/norminette.git ~/.norminette/
      - run: cd ~/.norminette/ && bundle
      - run: echo 'alias norminette="~/.norminette/norminette.rb"' >> ~/.bashrc
      - run: source ~/.bashrc        